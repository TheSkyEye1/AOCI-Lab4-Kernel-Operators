# Лабораторная работа №4. Операции с Ядрами (Свертка) на C# WPF и Emgu.CV (АОЦИ)

Этот проект — четвертая часть в серии учебных приложений по анализу и обработке цифровых изображений (АОЦИ). Он посвящен **свертке** — фундаментальной операции, которая лежит в основе большинства фильтров обработки изображений. Проект наглядно показывает, как, меняя небольшую матрицу (называемую *ядром* или *kernel*), можно получить совершенно разные эффекты: от размытия и повышения резкости до выделения границ.

[<-- Предыдущая работа](https://github.com/TheSkyEye1/AOCI-Lab3-Image-Geometry-Editor) | [Следующая работа -->]()

## Функционал

Приложение позволяет применять к изображению классические фильтры на основе свертки.

### Размытие
*   **Простое размытие:** усреднение пикселей.
*   **Размытие по Гауссу:** более качественное и мягкое размытие с использованием весов.
*   **Медианный фильтр:** размытие с помощью нахождения среднего звена в массиве значений.

###  Повышение резкости
*   Увеличение локального контраста на границах объектов для повышения четкости изображения.

### Выделение границ (Оператор Собеля)
*   **Sobel X:** Обнаружение вертикальных границ.
*   **Sobel Y:** Обнаружение горизонтальных границ.
*   **Sobel XY:** Обнаружение всех границ (комбинированный).

### Пользовательский фильтр
*   **Интерактивная сетка 3x3:** Возможность вручную вписать значения ядра и моментально увидеть результат применения собственного фильтра.

## Ключевые концепции

### 1. Что такое Свертка?
> **Свертка** — это математическая операция, при которой новое значение каждого пикселя вычисляется на основе взвешенной суммы его соседей.

Процесс похож на "скользящее окно": небольшая матрица (ядро) "проезжает" по каждому пикселю исходного изображения.
*   В каждой точке значения пикселей под окном умножаются на соответствующие значения в ядре.
*   Все результаты суммируются.
*   Эта сумма становится новым значением центрального пикселя.

### 2. Ядро (Kernel)
Проект демонстрирует, что один и тот же алгоритм может выполнять разные задачи, меняя лишь матрицу (ядро).

### 3. Выделение границ и типы данных
Оператор Собеля реализован как многоэтапный процесс:
1.  **Grayscale:** Границы — это перепады яркости, поэтому сначала избавляемся от цвета.
2.  **Свертка:** Применяем ядра Собеля для X и Y.
3.  **Использование `Image<Gray, float>`:** Результат свертки может быть отрицательным или превышать 255. Стандартный `byte` не подходит, поэтому для промежуточных вычислений градиента используется `float`.
4.  **Нормализация:** Растягивание диапазона значений `float` от 0 до 255 для корректного отображения и конвертации обратно в `byte`.

### 4. Интерактивность
Возможность вписать свое ядро — лучший способ понять, как математика влияет на визуальный результат.

## Важно

Приведеный в репозитории код не отражает всего функционала представленного в релизе. Данный код является лишь начальной точкой для самостоятельной разработки проекта и повторяет код приведенный в методическом пособии. В релизном приложении демонстрируется пример того что должно получится на выходе при выполненнии данной лабораторной работы.
